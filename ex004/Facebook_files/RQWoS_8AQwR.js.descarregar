if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("useRoomsCreateMutation_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="4944861375606858"}),null);
__d("useRoomsCreateMutation.graphql",["useRoomsCreateMutation_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"input"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"data",variableName:"input"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,kind:"ScalarField",name:"link_hash",storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"link_url",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"is_published",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"expected_call_start_time",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"visibility_mode",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"join_permission",storageKey:null},k={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},m={kind:"Variable",name:"scale",variableName:"scale"},n=[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],o={alias:null,args:[{kind:"Literal",name:"height",value:160},m,{kind:"Literal",name:"width",value:160}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},p=[o];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"useRoomsCreateMutation",selections:[{alias:null,args:c,concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[d,e,f,g,h,{alias:null,args:null,concreteType:"JoinableVideoChatsAvailabilitySettings",kind:"LinkedField",name:"joinable_video_chat_availability_settings",plural:!1,selections:[i,j,{args:null,kind:"FragmentSpread",name:"RoomPrivacyCurrentPrivacyText_text"},{args:null,kind:"FragmentSpread",name:"RoomPrivacyCustomSelectionText_participants"}],storageKey:null},{args:null,kind:"FragmentSpread",name:"RoomsRoomSettingsContextProvider_link"},{args:null,kind:"FragmentSpread",name:"RoomsSelfRoomTile_link"},{args:null,kind:"FragmentSpread",name:"VideoChatSelfTileCard_link"},{args:null,kind:"FragmentSpread",name:"VideoChatTileCard_link"}],storageKey:null}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"useRoomsCreateMutation",selections:[{alias:null,args:c,concreteType:"CreateVideoMeetupLinkResponsePayload",kind:"LinkedField",name:"create_video_meetup_link",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCallInviteLink",kind:"LinkedField",name:"meetup_link",plural:!1,selections:[d,e,f,g,h,{alias:null,args:null,concreteType:"JoinableVideoChatsAvailabilitySettings",kind:"LinkedField",name:"joinable_video_chat_availability_settings",plural:!1,selections:[i,j,{alias:null,args:null,kind:"ScalarField",name:"allow_anyone_with_link_to_join",storageKey:null},{alias:null,args:null,concreteType:"JoinableVideoChatsAvailabilitySettingsWhitelistedParticipantsConnection",kind:"LinkedField",name:"whitelisted_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[k,d],storageKey:null}],storageKey:null},d],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"emoji",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"link_surface",storageKey:null},l,{alias:null,args:null,kind:"ScalarField",name:"should_allow_guests",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lock_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"active_call_participant_count",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_e2e_encrypted",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"link_owner",plural:!1,selections:[k,d,{kind:"InlineFragment",selections:[l,o,{alias:"profile_pic",args:[m,{kind:"Literal",name:"width",value:60}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"short_name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gender",storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"link_container",plural:!1,selections:[k,{kind:"InlineFragment",selections:[d,{alias:null,args:null,kind:"ScalarField",name:"full_name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:n,storageKey:null}],type:"Group",abstractKey:null},{kind:"InlineFragment",selections:[d],type:"Node",abstractKey:"__isNode"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_owner_in_call",storageKey:null},{alias:null,args:null,concreteType:"MessengerCallRoom",kind:"LinkedField",name:"messenger_call_room",plural:!1,selections:[{alias:null,args:null,concreteType:"MessengerCall",kind:"LinkedField",name:"maybe_stale_active_call",plural:!1,selections:[{alias:null,args:[{kind:"Literal",name:"should_fetch_only_in_call_participants",value:!0}],concreteType:"MessengerCallToCallParticipantsConnection",kind:"LinkedField",name:"call_participants",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"nodes",plural:!0,selections:[k,d,{kind:"InlineFragment",selections:p,type:"User",abstractKey:null},{kind:"InlineFragment",selections:p,type:"MessengerCallGuestUser",abstractKey:null}],storageKey:null}],storageKey:"call_participants(should_fetch_only_in_call_participants:true)"},d],storageKey:null},d],storageKey:null},{alias:null,args:[{kind:"Literal",name:"surface",value:"NF_TRAY"}],kind:"ScalarField",name:"room_card_cta_enum",storageKey:'room_card_cta_enum(surface:"NF_TRAY")'},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_end_calls",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"can_viewer_report_to_group_admin",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"link_viewer",plural:!1,selections:[d,l,o],storageKey:null},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_ending",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],storageKey:null}],storageKey:null}]},params:{id:b("useRoomsCreateMutation_facebookRelayOperation"),metadata:{},name:"useRoomsCreateMutation",operationKind:"mutation",text:null}}}();e.exports=a}),null);
__d("RoomsPrivacyMenuContextProviderWrapper_setting.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RoomsPrivacyMenuContextProviderWrapper_setting",selections:[{args:null,kind:"FragmentSpread",name:"RoomsPrivacyMenuContextProvider_setting"}],type:"JoinableVideoChatsAvailabilitySettings",abstractKey:null};e.exports=a}),null);
__d("RoomsPrivacyMenuContextProvider_setting.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RoomsPrivacyMenuContextProvider_setting",selections:[{alias:null,args:null,kind:"ScalarField",name:"allow_anyone_with_link_to_join",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"join_permission",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visibility_mode",storageKey:null},{alias:null,args:null,concreteType:"JoinableVideoChatsAvailabilitySettingsWhitelistedParticipantsConnection",kind:"LinkedField",name:"whitelisted_participants",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nodes",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],type:"JoinableVideoChatsAvailabilitySettings",abstractKey:null};e.exports=a}),null);
__d("RoomsRoomUpdateStatusContext",["react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");function a(){c("recoverableViolation")("This component must be used inside a <RoomsRoomUpdateStatusContext> component.","rooms")}e={isSaving:!1,setIsSaving:a};f=b.createContext(e);g["default"]=f}),98);
__d("RoomsRoomUpdateStatusContextProvider.react",["RoomsRoomUpdateStatusContext","react","useSafeState"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useMemo;function a(a){a=a.children;var b=c("useSafeState")(!1),d=b[0],e=b[1];b=i(function(){return{isSaving:d,setIsSaving:e}},[d,e]);return h.jsx(c("RoomsRoomUpdateStatusContext").Provider,{value:b,children:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RoomsDialogLoadingState.react",["CometCardedDialogLoadingStateGlimmer.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.height,d=a.width;a=a.withHeader;a=a===void 0?!1:a;return h.jsxs("div",{className:"oh7imozk itxrrdc4",style:{height:b!=null?b+"px":void 0,width:d!=null?d+"px":void 0},children:[a&&h.jsx("div",{className:"taijpn5t cb02d2ww j83agx80 linmgsc8 bp9cbjyn"}),h.jsx(c("CometCardedDialogLoadingStateGlimmer.react"),{})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RoomsRoomSettingsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");var h=function(a){a({date:0,lockStatus:"locked_by_owner_disconnect",roomEmoji:"",roomLinkSurface:null,roomName:"",shouldAllowGuests:!1,updated:!1});return void 0};b={date:0,lockStatus:"locked_by_owner_disconnect",roomEmoji:"",roomLinkSurface:null,roomName:"",shouldAllowGuests:!1,update:function(a){return h(function(b){return a(b)})},updated:!1};c=a.createContext(b);g["default"]=c}),98);
__d("RoomsPrivacyMenuContext",["react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b=a.createContext();g["default"]=b}),98);
__d("useRoomsPrivacyMenuContext",["RoomsPrivacyMenuContext","react","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useContext;function a(){var a=h(c("RoomsPrivacyMenuContext"));if(a==null)throw c("unrecoverableViolation")("This component must be used inside a <RoomsPrivacyMenuContextProvider> component.","rooms");return a}g["default"]=a}),98);
__d("useRoomsCreateMutation",["CometRelay","RoomsGating","RoomsRelayStoreUtils","RoomsRoomSettingsContext","RoomsRoomUpdateStatusContext","VideoChatLogging","VideoChatLoggingDataContext","WebPixelRatio","cometPushToast","gkx","react","unrecoverableViolation","useRoomsCreateMutation.graphql","useRoomsPrivacyMenuContext"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react").useContext,j=h!==void 0?h:h=b("useRoomsCreateMutation.graphql");function a(a,b){var e=b&&c("gkx")("1655340");b=d("CometRelay").useMutation(j);var f=b[0];b=c("useRoomsPrivacyMenuContext")();var g=b.allowAnyoneWithLinkToJoin,h=b.joinPermission,k=b.visibilityMode,l=b.whitelistedParticipants;b=i(c("RoomsRoomSettingsContext"));var m=b.date,n=b.roomEmoji,o=b.roomName,p=b.update;b=i(c("RoomsRoomUpdateStatusContext"));var q=b.setIsSaving,r=i(c("VideoChatLoggingDataContext"));b=d("VideoChatLogging").useVideoChatLogging();var s=b.logRoomCreationFlowSuccess;b=function(b){var i,j,t,u=d("RoomsGating").getCreationVariant();i=(i=b==null?void 0:b.joinPermission)!=null?i:h;j=(j=b==null?void 0:b.visibilityMode)!=null?j:k;t=(t=b==null?void 0:b.whitelistedParticipants)!=null?t:l;if(u!=="default"&&i==null)throw c("unrecoverableViolation")("join permission for new creation flow should not be null","rooms");q(!0);f({onCompleted:function(b){var c,d;c=b==null?void 0:(c=b.create_video_meetup_link)==null?void 0:(c=c.meetup_link)==null?void 0:c.link_hash;d=b==null?void 0:(d=b.create_video_meetup_link)==null?void 0:(d=d.meetup_link)==null?void 0:d.link_url;var e=(b=b==null?void 0:(b=b.create_video_meetup_link)==null?void 0:(b=b.meetup_link)==null?void 0:b.expected_call_start_time)!=null?b:m;(r==null?void 0:(b=r.session_ids)==null?void 0:b.funnel_session_id)!=null&&s(r);c&&d&&a({date:e,linkHash:c,linkUrl:d,roomEmoji:n,roomName:o});p(function(a){return babelHelpers["extends"]({},a,{date:e})});q(!1)},onError:function(){d("cometPushToast").cometPushErrorToast({message:"There was an error updating your room settings. Please try again later."}),q(!1)},updater:function(a,b){if(e)return;b=(b=b.create_video_meetup_link)==null?void 0:(b=b.meetup_link)==null?void 0:b.id;if(b==null)return;b=a.get(b);if(b==null)return;d("RoomsRelayStoreUtils").addSelfRoom(a,b)},variables:{input:{funnel_session_id:r==null?void 0:(u=r.session_ids)==null?void 0:u.funnel_session_id,link_options:{availability_settings_options:{allowlisted_participant_ids:(u=t)!=null?u:void 0,join_permission:i,visibility_mode:j},create_in_unpublished_state:e,emoji:(t=b==null?void 0:b.roomEmoji)!=null?t:n,expected_start_time:(i=(u=b==null?void 0:b.expectedStartTime)!=null?u:m)!=null?i:0,link_surface:"FRIEND_JOINUPS",name:(j=b==null?void 0:b.roomName)!=null?j:o,should_allow_anonymous_guests:g}},scale:d("WebPixelRatio").get()}})};return b}g["default"]=a}),98);
__d("RoomsPrivacyUpdateStatusContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";a=d("react");b={didUserSetPrivacy:!1,isJoinPermissionSaving:!1,isSaving:!1,setDidUserSetPrivacy:c("emptyFunction"),setIsJoinPermissionSaving:c("emptyFunction"),setIsSaving:c("emptyFunction")};e=a.createContext(b);g["default"]=e}),98);
__d("RoomsPrivacyMenuContextProvider.react",["CometRelay","CometTransientDialogProvider.react","RoomsPrivacyMenuContext","RoomsPrivacyMenuContextProvider_setting.graphql","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");e=d("react");var j=e.useCallback,k=e.useMemo,l=e.useState,m=h!==void 0?h:h=b("RoomsPrivacyMenuContextProvider_setting.graphql");function a(a){var b,e,f=a.children,g=a.defaultPrivacy,h=a.linkHash;a=a.settingRef;a=d("CometRelay").useFragment(m,a);b=((a==null?void 0:(b=a.whitelisted_participants)==null?void 0:b.nodes)||[]).map(function(a){return a==null?void 0:a.id}).filter(Boolean);h=l({allowAnyoneWithLinkToJoin:(e=(e=a==null?void 0:a.allow_anyone_with_link_to_join)!=null?e:g==null?void 0:g.allowAnyoneWithLinkToJoin)!=null?e:!1,joinPermission:(e=a==null?void 0:a.join_permission)!=null?e:g==null?void 0:g.joinPermission,linkHash:h,visibilityMode:(e=a==null?void 0:a.visibility_mode)!=null?e:g==null?void 0:g.visibilityMode,whitelistedParticipants:b.length>0?b:(g==null?void 0:g.whiteListedParticipants)||[]});var n=h[0],o=h[1],p=j(function(a){return o(function(b){return a(b)})},[o]);a=k(function(){return babelHelpers["extends"]({},n,{update:p})},[n,p]);return i.jsx(c("RoomsPrivacyMenuContext").Provider,{value:a,children:i.jsx(c("CometTransientDialogProvider.react"),{children:f})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("RoomsPrivacyMenuContextProviderWrapper.react",["CometRelay","RoomsPrivacyMenuContextProvider.react","RoomsPrivacyMenuContextProviderWrapper_setting.graphql","RoomsPrivacyUpdateStatusContext","react","useSafeState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=d("react").useMemo,k=h!==void 0?h:h=b("RoomsPrivacyMenuContextProviderWrapper_setting.graphql");function a(a){var b=a.children,e=a.defaultPrivacy,f=a.didUserSetPrivacy;f=f===void 0?!1:f;var g=a.linkHash;a=a.settingRef;a=d("CometRelay").useFragment(k,a);var h=c("useSafeState")(!1),l=h[0],m=h[1];h=c("useSafeState")(!1);var n=h[0],o=h[1];h=c("useSafeState")(f);var p=h[0],q=h[1];f=j(function(){return{didUserSetPrivacy:p,isJoinPermissionSaving:n,isSaving:l,setDidUserSetPrivacy:q,setIsJoinPermissionSaving:o,setIsSaving:m}},[p,n,l,q,o,m]);return i.jsx(c("RoomsPrivacyUpdateStatusContext").Provider,{value:f,children:i.jsx(c("RoomsPrivacyMenuContextProvider.react"),{defaultPrivacy:e,linkHash:g,settingRef:a,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);